version: '2'
services:

  database:
    extends:
      file: common.yml
      service: database

  nzedb:
    extends:
      file: common.yml
      service: nzedb
    links:
      - database
      - redis
      - sphinx
    depends_on:
      - database
      - redis
      - sphinx

  adminer:
    extends:
      file: common.yml
      service: adminer
    links: 
      - database:db
    depends_on:
      - database

  redis:
    extends:
      file: common.yml
      service: redis

  sphinx:
    extends:
      file: common.yml
      service: sphinx

volumes:
    var_lib_mysql: {}
    nzedb_covers: {}
    nzedb_nzbs: {}
    sphinx_data: {}

